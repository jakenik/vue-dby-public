webpackJsonp([1],{"7qlM":function(s,a,t){var e=t("yIaE"),r=t("b/cX");s.exports=t("Hx55").getIterator=function(s){var a=r(s);if("function"!=typeof a)throw TypeError(s+" is not iterable!");return e(a.call(s))}},BNVe:function(s,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=t("HzJ8"),r=t.n(e),n={methods:{onChangeUpladFile:function(s){var a=s.target.files,t=!0,e=!1,n=void 0;try{for(var l,p=r()(a);!(t=(l=p.next()).done);t=!0){var v=l.value;this.$imRez.upladFile({file:v,url:this.$env.apiH5+"/a",data:{c:"11"},method:"POST",succ:function(){},fail:function(){}})}}catch(s){e=!0,n=s}finally{try{!t&&p.return&&p.return()}finally{if(e)throw n}}},onChangePhotoCompress:function(s){var a=this,t=s.target.files,e=!0,n=!1,l=void 0;try{for(var p,v=r()(t);!(e=(p=v.next()).done);e=!0){var i=p.value;this.$imRez.photoCompress(i,{quality:.1},function(s){a.$refs.img.src=s})}}catch(s){n=!0,l=s}finally{try{!e&&v.return&&v.return()}finally{if(n)throw l}}}}},l={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("h2",[s._v("imRez图片压缩")]),s._v(" "),s._m(0),s._v(" "),t("h4",[s._v("upladFile 上传图片文件")]),s._v(" "),t("demo-block",{staticClass:"demo-box",attrs:{jsfiddle:{html:'<template>\n  <input type="file" name="image" accept="image/*" @change="onChangeUpladFile">\n</template>\n\n',script:"\nexport default {\n  /**\n   * @param\n   * file 文件流\n   * url 上传地址\n   * data 上传带参\n   * method 请求方式\n   * size 默认1m超出这个限制就压缩\n   * succ 成功回调\n   * fail失败回调\n   * quality 压缩比例 默认0.7\n   */\n  methods: {\n    onChangeUpladFile (e) {\n      let files = e.target.files;\n      for(let file of files){\n        this.$imRez.upladFile({file, url: this.$env.apiH5 + '/a', data: {}, method: 'POST', succ(){}, fail(){}})\n      } \n    }\n  }\n}\n",style:null}}},[t("div",{staticClass:"source",attrs:{slot:"source"},slot:"source"},[[t("input",{attrs:{type:"file",name:"image",accept:"image/*"},on:{change:s.onChangeUpladFile}})]],2),s._v(" "),t("div",{staticClass:"highlight",attrs:{slot:"highlight"},slot:"highlight"},[t("pre",{pre:!0},[t("code",{pre:!0,attrs:{class:"hljs language-html"}},[t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"file"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"image"')]),s._v("  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("accept")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"image/*"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@change")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"onChangeUpladFile"')]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"javascript"}},[s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n   * @param\n   * file 文件流\n   * url 上传地址\n   * data 上传带参\n   * method 请求方式\n   * size 默认1m超出这个限制就压缩\n   * succ 成功回调\n   * fail失败回调\n   * quality 压缩比例 默认0.7\n   */")]),s._v("\n  methods: {\n    onChangeUpladFile (e) {\n      "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" files = e.target.files;\n      "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" file "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("of")]),s._v(" files){\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$imRez.upladFile({file, "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$env.apiH5 + "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/a'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": {}, "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("method")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'POST'")]),s._v(", succ(){}, fail(){}})\n      } \n    }\n  }\n}\n")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])]),s._v(" "),t("h4",[s._v("photoCompress 直接压缩返回base64")]),s._v(" "),t("demo-block",{staticClass:"demo-box",attrs:{jsfiddle:{html:'<template>\n  <div>\n    <input type="file" name="image" accept="image/*" @change="onChangePhotoCompress">\n    <img src ref="img" style="max-width: 500px;">\n  </div>\n</template>\n\n',script:"\nexport default {\n  methods: {\n    onChangePhotoCompress(e) {\n      let files = e.target.files;\n      for(let file of files){\n        /**\n         * @param\n         * file 文件流\n         * quality 压缩比例\n         * base64\n         */\n        this.$imRez.photoCompress(\n          file,\n          {\n            quality: 0.1\n          },\n          base64Codes => {\n            this.$refs.img.src = base64Codes\n          }\n        )\n      } \n    }\n  }\n}\n",style:null}}},[t("div",{staticClass:"source",attrs:{slot:"source"},slot:"source"},[[t("div",[t("input",{attrs:{type:"file",name:"image",accept:"image/*"},on:{change:s.onChangePhotoCompress}}),s._v(" "),t("img",{ref:"img",staticStyle:{"max-width":"500px"},attrs:{src:""}})])]],2),s._v(" "),t("div",{staticClass:"highlight",attrs:{slot:"highlight"},slot:"highlight"},[t("pre",{pre:!0},[t("code",{pre:!0,attrs:{class:"hljs language-html"}},[t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"file"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"image"')]),s._v("  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("accept")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"image/*"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@change")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"onChangePhotoCompress"')]),s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("img")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v("  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"img"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"max-width: 500px;"')]),s._v(">")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"javascript"}},[s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    onChangePhotoCompress(e) {\n      "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" files = e.target.files;\n      "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" file "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("of")]),s._v(" files){\n        "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n         * @param\n         * file 文件流\n         * quality 压缩比例\n         * base64\n         */")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$imRez.photoCompress(\n          file,\n          {\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("quality")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v("\n          },\n          base64Codes => {\n            "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$refs.img.src = base64Codes\n          }\n        )\n      } \n    }\n  }\n}\n")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])])])],1)},staticRenderFns:[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{pre:!0},[t("code",{pre:!0,attrs:{class:"hljs language-javascript"}},[s._v("  "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { ImRez } "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'dby-base'")]),s._v("\n  Vue.use(ImRez)\n  "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 访问 this.$imRez")]),s._v("\n")])])}]},p=t("C7Lr")(n,l,!1,null,null,null);a.default=p.exports},HzJ8:function(s,a,t){s.exports={default:t("llxl"),__esModule:!0}},"V/K0":function(s,a,t){s.exports=t("BNVe")},llxl:function(s,a,t){t("IeGf"),t("wVgL"),s.exports=t("7qlM")}});
//# sourceMappingURL=1.5129709b931c829eb33f.js.map